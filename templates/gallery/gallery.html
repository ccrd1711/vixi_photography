{% extends 'base.html' %}
{% load static %}
{% block title %}Gallery • Vixi Photography{% endblock %}
{% block body_class %}gallery-scope{% endblock %}

{% block content %}
<div class="gallery-page" id="galleryPage">
  <div class="gallery-toolbar">
    <h1 class="m-0">Gallery</h1>
    <button id="galleryModeToggle" class="btn" aria-pressed="false" title="Toggle theme">☾</button>
  </div>

  {% if photos %}
    <div class="grid">
  {% for photo in photos %}
    <article class="card">
      <img src="{{ photo.image_url }}" alt="{{ photo.title|default:'Photo' }}" class="card-img">
      <div class="card-body">
        <h3 class="card-title">{{ photo.title|default:"Untitled" }}</h3>
        <p class="price">{{ photo.price_display }}</p>
        <form action="{% url 'add_to_cart' photo.id %}" method="post">
          {% csrf_token %}
          <input type="hidden" name="next" value="{{ request.get_full_path }}">
          <button class="btn" type="submit">Add to basket</button>
        </form>

      </div>
    </article>
  {% endfor %}
</div>

  {% else %}
    <p>No photos yet.</p>
  {% endif %}
</div>

<script src="{% static 'js/gallery.js' %}"></script>
{% endblock %}
